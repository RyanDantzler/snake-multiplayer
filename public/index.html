<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>Multiplayer Snake</title>
    <link rel="stylesheet" href="styles.css?ver=6"/>
</head>
<body>
    <div id="initialScreen">
        <h1>Multiplayer Snake</h1>
        <div class="logo">
            <svg class="Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><polygon points="256,512,0,256,256,0,512,256" fill="#49a09d" fill-opacity="1"></polygon><g class="" transform="translate(0,0)"><path d="M300.9 23.76C198 24.02 80.84 87.55 46.35 177 15.2 257.8 97.86 306.6 127.1 389.3c21.1 59.7-96.61 98.2-96.61 98.2H231.5s34.3-42.2 32.8-94.4c-2.8-99.1-134.7-126.8-127-198.8 6.8-64.2 164.6-128.97 213-86.3 24 21.2 16 85.5 16 85.5-24 3-34.5 8.2-48.7 17.9 21.1 51.8 17.3 105.3 19.8 158.4 19.5 13.9 43.4 16.1 69.5 12.9 19.3-50 44.7-95.4 74.6-137.5-5.1-14-12.3-22.6-29.9-35.3 0 0 18.2-97.6-24.9-140.43-32-31.89-77.3-45.83-125.8-45.71zm53.6 198.84l23.9 58.3s-27-6.9-32.2-17.6c-6.1-12.8 8.3-40.7 8.3-40.7zm93.6 15.2s4.2 31.1-5.8 41.1c-8.5 8.4-36.2 5.9-36.2 5.9zm-99 100.3l16.1 23.3-16.4-3.2zm58 10.1l-6.3 19.1-16.6-2.3zm-47.4 49.7l-6.1 35.1-36.7 34.7 12.4 13 29-27.4 13.6 34.9 16.8-6.6-17.5-45 6.3-35.9c-6-.8-11.9-1.7-17.8-2.8z" fill="#fff" fill-opacity="1"></path></g></svg>
        </div>
        <div class="container">
            <button type="submit" id="createGameButton" class="button">Create New Lobby</button>
            <hr>
            <button type="submit" id="browseGamesButton" class="button">Browse Open Games</button>
        </div>
    </div>

    <div id="createGameScreen" class="hidden">
        <div class="container">
            <button type="submit" id="createGameBackButton" class="button">Back</button>
            <hr>
            <input type="text" placeholder="Lobby Name" id="lobbyNameInput" required/>
            <div class="form-container">
                <label class="switch">
                    <input type="checkbox" id="password-req">
                    <span class="slider round"></span>
                </label>
                <p class="label">Password Required</p>
            </div>
            <input type="text" placeholder="Password" id="setPasswordInput" disabled/>
            <button type="submit" id="newGameButton" class="button" disabled>Create Lobby</button>
        </div>
    </div>

    <div id="browseGamesScreen" class="hidden">
        <div class="container">
            <button type="submit" id="browseGamesBackButton" class="button">Back</button>
            <hr>
            <div id="lobby-list">
                <div class="lobby-item">
                    <h3>Ryan's Game</h3>
                    <div class="lobby-details">
                        <input type="text" placeholder="Password" class="passwordInput"/>
                        <button type="submit" class="button joinGameButton">Join Game</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="gameScreen">
        <h2 id="gameCode">Waiting for Opponent<span id="gameCodeDisplay">...</span></h2>
        <h2 id="gameScore">
            <div class="current-player">You: <span id="playerScore">0</span></div> 
            <div class="opponent-player">Opponent: <span id="opponentScore">0</span></div>
        </h2>
        <div id="gameArea">
            <span id="countdown" class="loading"></span>
            <canvas id="canvas"></canvas>
        </div>
        <div class="buttons">
            <button id="btn-up" class="container"><div class="container__triangle container__triangle--up"></div></button>
            <button id="btn-left" class="container"><div class="container__triangle container__triangle--left"></div></button>
            <button id="btn-right" class="container"><div class="container__triangle container__triangle--right"></div></button>
            <button id="btn-down" class="container"><div class="container__triangle container__triangle--down"></div></button> 
        </div>
        <button id="rematchButton" class="button">Rematch</button>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.1/socket.io.js"></script>
    <script src="index.js"></script>
</body>
</html>